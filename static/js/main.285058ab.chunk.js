(this.webpackJsonpmovieapp=this.webpackJsonpmovieapp||[]).push([[0],{40:function(e,n,t){e.exports=t(52)},45:function(e,n,t){},52:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(16),o=t.n(i),c=(t(45),t(14)),l=t(11),u=t(7),s=t(13),d=t(33),p=t(23),f={isLoggedIn:!1,fetchingUserSession:!0},m=function(e){return function(n){fetch("http://www.omdbapi.com/?apikey=".concat(e,"&type=movie&s=avengers")).then((function(t){t.json().then((function(t){localStorage.setItem("apiLoginKey",e),n({type:"LOAD_DASHBOARD_MOVIES",data:t.Search}),n({type:"FETCH_LOGGED_IN_USER",data:e})}))})).catch((function(e){console.log({err:e})}))}},h=function(e){return function(n){var t=localStorage.getItem("apiLoginKey");n({type:"LOAD_MOVIE_DETAIL",data:void 0}),fetch("http://www.omdbapi.com/?apikey=".concat(t,"&i=").concat(e)).then((function(e){return e.json().then((function(e){console.log({loadMovieDetails:e}),n({type:"LOAD_MOVIE_DETAIL",data:e})}))}))}},g=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.d)(Object(s.a)(d.a)),b=Object(s.e)(Object(s.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_LOGGED_IN_USER":return Object(p.a)({},e,{isLoggedIn:!!n.data,apiKey:n.data,fetchingUserSession:!1});case"LOAD_DASHBOARD_MOVIES":return Object(p.a)({},e,{movies:n.data});case"LOAD_MOVIE_DETAIL":return Object(p.a)({},e,{selectedMovie:n.data});default:return e}}}),g),v=t(8),E=t(17),O=t(18),w=t(19),x=t(21),j=t(20),_=t(22),y=t(5);function I(){var e=Object(v.a)(["\n  padding: 0.5em;\n  width: 100px;\n  height: 50px;\n  border: 1px solid black;\n  border-radius: 4px;\n  font-size: 16px;\n  font-color: black;\n"]);return I=function(){return e},e}function S(){var e=Object(v.a)(["\n  padding: 0.5em;\n  color: palevioletred;\n  background: papayawhip;\n  border: none;\n  border-radius: 3px;\n  width: 100%;\n  margin-bottom: 0.5em;\n  height: 50px;\n  width: ","px;\n  min-width: 200px;\n"]);return S=function(){return e},e}function D(){var e=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: ","px;\n  min-height: ","px;\n"]);return D=function(){return e},e}var L=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(x.a)(this,(e=Object(j.a)(n)).call.apply(e,[this].concat(r)))).state={login:void 0},t._submit=function(e){console.log({event:e,state:t.state}),e.preventDefault(),t.props.dispatch(m(t.state.login))},t._onLoginIdChange=function(e){t.setState(Object(E.a)({},e.target.name,e.target.value))},t}return Object(_.a)(n,e),Object(w.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this._submit},r.a.createElement(k,null,r.a.createElement(A,{name:"login",type:"text",onChange:function(n){return e._onLoginIdChange(n)}}),r.a.createElement(T,{type:"submit",value:"Submit",onClick:this._submit})))}}]),n}(r.a.Component),k=(Object(u.b)()(L),y.a.div(D(),window.innerWidth,window.innerHeight)),A=y.a.input(S(),.4*window.innerWidth),T=y.a.input(I()),U=function(e){function n(){return Object(O.a)(this,n),Object(x.a)(this,Object(j.a)(n).apply(this,arguments))}return Object(_.a)(n,e),Object(w.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){var n=localStorage.getItem("apiLoginKey");console.log({loggedInUser:n}),e(m(n))}))}},{key:"componentDidUpdate",value:function(e){var n=this.props;n.fetchingUserSession,n.isLoggedIn}},{key:"render",value:function(){return this.props.isLoggedIn?r.a.createElement(r.a.Fragment,null,this.props.children):this.props.fetchingUserSession?r.a.createElement("div",null,"fetching user..."):r.a.createElement(l.a,{to:"/login"})}}]),n}(r.a.Component);var M=Object(u.b)((function(e){return{isLoggedIn:e.user.isLoggedIn,fetchingUserSession:e.user.fetchingUserSession}}),null)(U);function C(){var e=Object(v.a)(["\n  width: 100px;\n  height: 100px;\n"]);return C=function(){return e},e}function V(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-left: 10px;\n"]);return V=function(){return e},e}function N(){var e=Object(v.a)(["\n  box-shadow: 1px 1px 1px 1px #888888;\n  border-radius: 4px;\n  padding: 10px;\n  color: black;\n  margin: 10px;\n  display: flex;\n  flex-direction: row;\n"]);return N=function(){return e},e}var P=function(e){return r.a.createElement(R,null,r.a.createElement(B,{src:e.Poster}),r.a.createElement(H,null,r.a.createElement("div",null,e.Title),r.a.createElement("div",null,e.Year)))},R=y.a.div(N()),H=y.a.div(V()),B=y.a.img(C());var G=function(e){var n=Object(u.d)((function(e){return e.user.movies||[]}));return r.a.createElement(M,null,n.map((function(e){return r.a.createElement(c.b,{key:e.imdbID,to:"/detail?id=".concat(e.imdbID)},r.a.createElement(P,e))})))},K=t(37);function W(e,n){var t=n;return window.location.href.indexOf(e)>-1&&(t=function(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(n,t,a){e[t]=a}));return e}()[e]),t}function X(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  line-height: 24px;\n"]);return X=function(){return e},e}function F(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n"]);return F=function(){return e},e}var J=function(e){var n=Object(u.c)(),t=W("id");Object(a.useEffect)((function(){n(h(t))}),[t]);var i=Object(u.d)((function(e){return e.user.selectedMovie||{}})),o=(i.Title,i.Poster,Object(K.a)(i,["Title","Poster"]));return r.a.createElement(M,null,r.a.createElement(z,null,r.a.createElement("h1",null,i.Title),r.a.createElement("img",{src:i.Poster}),r.a.createElement(Y,null,Object.keys(o).map((function(e){return"string"===typeof o[e]?r.a.createElement("span",null,r.a.createElement("strong",null,e,":"),o[e]):null})))))},z=y.a.div(F()),Y=y.a.div(X());var $=function(e){return r.a.createElement(M,null,"addmovie")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){return r.a.createElement(u.a,{store:b},r.a.createElement(c.a,null,r.a.createElement("div",null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/detail"},r.a.createElement(J,null)),r.a.createElement(l.b,{path:"/add"},r.a.createElement($,null)),r.a.createElement(l.b,{path:"/dashboard"},r.a.createElement(G,null)),r.a.createElement(l.b,{path:"/"},r.a.createElement(G,null))))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.285058ab.chunk.js.map